<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Auto Play Audio</title>
</head>
<body>
  <h2>Playing your song...</h2>

  <audio id="bgmusic" autoplay muted>
    <source src="no_lie_ft_dua_lipa.mp3" type="audio/mpeg">
    Your browser does not support the audio tag.
  </audio>

  <button id="playBtn" style="display:none;">â–¶ Tap to Play</button>

  <script>
    const audio = document.getElementById("bgmusic");
    const btn = document.getElementById("playBtn");

    window.addEventListener("load", () => {
      // Ensure autoplay muted
      audio.play().then(() => {
        console.log("Muted autoplay started");

        // Fade in after 1 second
        setTimeout(() => {
          let vol = 0;
          audio.muted = false; // unmute
          audio.volume = 0;    // start silent

          const fade = setInterval(() => {
            if (vol < 1) {
              vol += 0.1;
              audio.volume = vol;
            } else {
              clearInterval(fade);
            }
          }, 200); // increase volume every 200ms
        }, 1000);

      }).catch(() => {
        // If autoplay blocked, show button
        btn.style.display = "block";
      });
    });

    btn.addEventListener("click", () => {
      audio.muted = false;
      audio.volume = 1;
      audio.play();
      btn.style.display = "none";
    });
  </script>
</body>
</html>
